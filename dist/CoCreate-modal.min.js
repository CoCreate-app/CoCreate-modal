/* CoCreateJS */
"use strict";function CoCreateModal(t,e){if(!t||!t.nodeType||1!==t.nodeType)return;this.MARGIN=5,this.FULLSCREEN_MARGIN=-20,this.NO_SNAP=-31,this.SNAP_MARGIN=-10,window.mobilecheck()&&(this.MARGIN=10);this.id=CoCreateWindow.generateUUID(20),this.el=t,this.clicked=null,this.redraw=!1,this.boundStatus={},this.point={},this.rect={},this.clickedInfo=null,this.preSnapped=null,this.prevRect={},this.isSnap=!1,this.isHeader=!0,this.dragArea=null,this.headerArea=null,this.width=0,this.height=0,this.isParked=!1,this.options=Object.assign({minWidth:60,minHeight:40},e),this.el.setAttribute("id",this.id),CoCreateStorage.pageId=this.id,this._init(),this._setModalSize(),this._initEvent(),this._animate()}function CoCreateModalContainer(t){this.modals=[],this.el=t,this.modalClass=this.el.getAttribute("data-modal-class"),this.SELECT_ZINDEX=10,this.UNSELECT_ZINDEX=2,this.ghostEl=null,this.width=0,this.height=0,this.selectedModal=null,this.modalClass||(this.modalClass="modal"),this._createGhost(this.el.getAttribute("data-ghost-class")),this._initModals(),this._initEvent()}function CoCreateWindow(t){let e=t||"customVPhere";this.container=null,this.id=e,this.pageId=CoCreateWindow.generateUUID(20),this.isRoot=this._checkRoot(),this.isRoot?(CoCreateStorage.rootPageId=this.pageId,this.rootId=this.pageId,this.parentId=this.pageId):(this.parentId=CoCreateStorage.parentPageId,this.pageId=CoCreateStorage.pageId,this.rootId=CoCreateStorage.rootPageId),this._createContainer(),this._initButtons(),this._initWndButtons(),this._initSocket();var i=document.querySelector("html");i.setAttribute("test-parent_id",this.parentId),i.setAttribute("test-page_id",this.pageId)}window.mobilecheck=function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e},CoCreateModal.prototype={constructor:CoCreateModal,_init:function(){var t=this.options;this.isAjax=t.ajax?t.ajax:this.el.getAttribute("data-modal_ajax");var e=t.url?t.url:this.el.getAttribute("href"),i=t.width?t.width:this.el.getAttribute("data-modal_width"),s=t.height?t.height:this.el.getAttribute("data-modal_height"),o=t.color?t.color:this.el.getAttribute("data-modal_color"),a=t.x?t.x:this.el.getAttribute("data-modal_x"),n=t.y?t.y:this.el.getAttribute("data-modal_y"),h=t.header?t.header:this.el.getAttribute("data-modal_header");if(this.el.style.width=i&&""!=i?i:"600px",this.el.style.height=s&&""!=s?s:"100%",this.el.parentElement.clientWidth<this.el.clientWidth&&(this.el.style.width="100%"),this.el.parentElement.clientHeight<this.el.clientHeight&&(this.el.style.width="100%"),this.el.style.left=a&&""!=a?a:(this.el.parentElement.clientWidth-this.el.offsetWidth)/2,this.el.style.top=n&&""!=n?n:"0px",o&&""!==o&&(this.el.style.borderColor=o),"true"==h?(this.isHeader=!0,this._createTitle()):(this.isHeader=!1,this._createDragArea()),this.el.innerHTML=this.el.innerHTML+'<div class="parked-closeBtn"><i class="fas fa-times closeBtn"></i></div>',e&&""!=e){var l=document.createElement("iframe");l.style.width="100%",l.style.height="100%",this.headerArea&&(l.style.height="calc( 100% - 45px)"),l.src=e,this.el.appendChild(l)}},_initEvent:function(){let t=this;this.el.addEventListener("click",function(e){var i=new CustomEvent("cocreate-selectmodal",{detail:{modal:t}});t.el.parentNode.dispatchEvent(i)},!0),this.el.addEventListener("dblclick",function(e){t.isParked&&(t.isParked=!1,t.el.classList.remove("modal-parked"))}),this.el.addEventListener("modal-resizing",function(t){console.log("resizing event trigger")}),this.el.addEventListener("touchstart",function(e){var i=new CustomEvent("cocreate-selectmodal",{detail:{modal:t}});t.el.parentNode.dispatchEvent(i),t._onDown(e.touches[0])}),this.el.addEventListener("mousedown",function(e){var i=new CustomEvent("cocreate-selectmodal",{detail:{modal:t}});t.el.parentNode.dispatchEvent(i),t._onDown(e)}),this._addButtonEvent(),this.el.addEventListener("modal-resizeend",function(e){t._saveFetch()}),this.el.addEventListener("modal-moveend",function(e){t._saveFetch()})},_addButtonEvent:function(){var t=this;this.el.querySelector(".modal-title-area .closeBtn")&&this.el.querySelector(".modal-title-area .closeBtn").addEventListener("click",function(e){e.preventDefault(),t.el.parentNode.dispatchEvent(new CustomEvent("cocreate-removemodal",{detail:{modal:t}}))}),this.el.querySelector(".parked-closeBtn .closeBtn")&&this.el.querySelector(".parked-closeBtn .closeBtn").addEventListener("click",function(e){e.preventDefault(),t.el.parentNode.dispatchEvent(new CustomEvent("cocreate-removemodal",{detail:{modal:t}}))}),this.el.querySelector(".modal-title-area .maximizeBtn")&&this.el.querySelector(".modal-title-area .maximizeBtn").addEventListener("click",function(e){e.preventDefault(),t._setMaximize()}),this.el.querySelector(".modal-title-area .minimizeBtn")&&this.el.querySelector(".modal-title-area .minimizeBtn").addEventListener("click",function(e){e.preventDefault(),t.togglePark()})},togglePark:function(){this.isParked?(this.isParked=!1,this.el.classList.remove("modal-parked")):(this.isParked=!0,this.el.classList.add("modal-parked"))},_setModalSize:function(){let t=this.el.getBoundingClientRect(),e=this.el.parentNode.getBoundingClientRect();this.width=t.width,this.height=t.height,this.el.style.left=t.left-e.left,this.el.style.top=t.top-e.top},_saveFetch:function(){this.el.classList.contains(saveFetchClass)&&saveHtml(this.el)},_onMove:function(t){this._getBoundStatus(t),this.redraw=!0},_onDown:function(t){this._getBoundStatus(t);var e=this.boundStatus.isRight||this.boundStatus.isLeft||this.boundStatus.isTop||this.boundStatus.isBottom;this.clickedInfo={x:this.point.x,y:this.point.y,cx:this.point.cx,cy:this.point.cy,w:this.rect.width,h:this.rect.height,isResizing:e,isMoving:!e&&this._isMovable(),boundStatus:this.boundStatus,isChangeStart:!0}},_onUp:function(t){if(t&&this._getBoundStatus(t),this.clickedInfo){if(this.clickedInfo.isMoving&&!this.isParked){let t=this.el.parentNode.offsetWidth,i=this.el.parentNode.offsetHeight,s=null;this._between(this.rect.top,this.NO_SNAP,this.FULLSCREEN_MARGIN)||this._between(this.rect.left,this.NO_SNAP,this.FULLSCREEN_MARGIN)||this._between(t-this.rect.right,this.NO_SNAP,this.FULLSCREEN_MARGIN)||this._between(i-this.rect.bottom,this.NO_SNAP,this.FULLSCREEN_MARGIN)?s={x:0,y:0,w:"100%",h:"100%"}:this._between(this.rect.top,this.NO_SNAP,this.SNAP_MARGIN)?s={x:0,y:0,w:"100%",h:"50%"}:this._between(this.rect.left,this.NO_SNAP,this.SNAP_MARGIN)?s={x:0,y:0,w:"50%",h:"100%"}:this._between(t-this.rect.right,this.NO_SNAP,this.SNAP_MARGIN)?s={x:"50%",y:0,w:"50%",h:"100%"}:this._between(i-this.rect.bottom,this.NO_SNAP,this.SNAP_MARGIN)&&(s={x:0,y:"50%",w:"100%",h:"50%"}),s&&!this.isSnap&&(this._setBound(this.el,s.x,s.y,s.w,s.h),this.preSnapped={x:this.rect.x,y:this.rect.y,width:this.rect.width,height:this.rect.height},this.isSnap=!0);var e={x:this.rect.x,y:this.rect.y,w:this.rect.width,h:this.rect.height};this.el.parentNode.dispatchEvent(new CustomEvent("cocreate-modalghost",{detail:e}))}this.clickedInfo.isResizing?(this.createModalEvent("modal-resizeend"),this._setModalSize(),this.isSnap=!1):this.clickedInfo.isMoving&&this.createModalEvent("modal-moveend"),this.clickedInfo=null}},_setBound:function(t,e,i,s,o){this.el.offsetHeight,this.el.clientHeight,this.el.offsetWidth,this.el.clientWidth;t.style.left=e,t.style.top=i,t.style.width=s,t.style.height=o},_setRectInfo:function(){let t=this.el.getBoundingClientRect(),e=this.el.parentNode.getBoundingClientRect();this.rect={},this.rect.x=t.x-e.x,this.rect.y=t.y-e.y,this.rect.width=t.width,this.rect.height=t.height,this.rect.top=t.top-e.top,this.rect.bottom=t.bottom-e.top,this.rect.left=t.left-e.left,this.rect.right=t.right-e.left},_getBoundStatus:function(t){let e=this.el.getBoundingClientRect(),i=this.el.parentNode.getBoundingClientRect(),s=t.clientX-e.left,o=t.clientY-e.top;return this._setRectInfo(),this.point.x=s,this.point.y=o,this.point.cx=t.clientX-i.left,this.point.cy=t.clientY-i.top,this.boundStatus={isTop:o<this.MARGIN&&o>-this.MARGIN,isLeft:s<this.MARGIN&&s>-this.MARGIN,isRight:s>=e.width-this.MARGIN&&s<=e.width+this.MARGIN,isBottom:o>=e.height-this.MARGIN&&o<=e.height+this.MARGIN},this.boundStatus},_between:function(t,e,i){return t>=e&&t<=i},_animate:function(){let t=this;if(requestAnimationFrame(function(){t._animate()}),!this.redraw)return;this.redraw=!1;let e=this.clickedInfo;var i=null;if(e&&e.isResizing&&!this.isParked){if(e.boundStatus.isRight&&(this.el.style.width=Math.max(this.point.x,this.options.minWidth)+"px"),e.boundStatus.isBottom&&(this.el.style.height=Math.max(this.point.y,this.options.minHeight)+"px"),e.boundStatus.isLeft){var s=Math.max(e.cx-this.point.cx+e.w,this.options.minWidth);s>this.options.minWidth&&(this.el.style.width=s+"px",this.el.style.left=this.point.cx+"px")}if(e.boundStatus.isTop){var o=Math.max(e.cy-this.point.cy+e.h,this.options.minHeight);o>this.options.minHeight&&(this.el.style.height=o+"px",this.el.style.top=this.point.cy+"px")}return i="modal-resizing",e.isChangeStart&&(this.clickedInfo.isChangeStart=!1,i="modal-resizestart"),void this.createModalEvent(i)}if(e&&e.isMoving){let t=this.el.parentNode.offsetWidth,s=this.el.parentNode.offsetHeight,o=null;return!(o=this._between(this.rect.top,this.NO_SNAP,this.FULLSCREEN_MARGIN)||this._between(this.rect.left,this.NO_SNAP,this.FULLSCREEN_MARGIN)||this._between(t-this.rect.right,this.NO_SNAP,this.FULLSCREEN_MARGIN)||this._between(s-this.rect.bottom,this.NO_SNAP,this.FULLSCREEN_MARGIN)?{x:0,y:0,w:t,h:s,type:"show"}:this._between(this.rect.top,this.NO_SNAP,this.SNAP_MARGIN)?{x:0,y:0,w:t,h:s/2,type:"show"}:this._between(this.rect.left,this.NO_SNAP,this.SNAP_MARGIN)?{x:0,y:0,w:t/2,h:s,type:"show"}:this._between(t-this.rect.right,this.NO_SNAP,this.SNAP_MARGIN)?{x:t/2,y:0,w:t/2,h:s,type:"show"}:this._between(s-this.rect.bottom,this.NO_SNAP,this.SNAP_MARGIN)?{x:0,y:s/2,w:t,h:s/2,type:"show"}:{x:this.rect.left,y:this.rect.top,w:this.rect.width,h:this.rect.height,type:"hide"})||this.isParked||this.isSnap||this.el.parentNode.dispatchEvent(new CustomEvent("cocreate-modalghost",{detail:o})),this.isSnap?(this.el.style.left=this.point.cx+"px",this.el.style.top=this.point.cy+"px",this.el.style.width=this.preSnapped.width+"px",this.el.style.height=this.preSnapped.height+"px",this.isSnap=!1):(this.el.style.top=this.point.cy-e.y+"px",this.el.style.left=this.point.cx-e.x+"px"),i="modal-moving",e.isChangeStart&&(this.clickedInfo.isChangeStart=!1,i="modal-movestart"),void this.createModalEvent(i)}this.redraw=!1,this._setCursor(this.boundStatus)},_setMaximize(){this.isSnap?(this.isSnap=!1,this.el.style.left=this.preSnapped.x+"px",this.el.style.top=this.preSnapped.y+"px",this.el.style.width=this.preSnapped.width+"px",this.el.style.height=this.preSnapped.height+"px"):(this.isSnap=!0,this.preSnapped={x:this.rect.x,y:this.rect.y,width:this.rect.width,height:this.rect.height},this._setBound(this.el,0,0,"100%","100%"))},_setCursor(t){let e="default";!this.isParked&&t.isRight&&t.isBottom||t.isLeft&&t.isTop?e="nwse-resize":!this.isParked&&t.isRight&&t.isTop||t.isBottom&&t.left?e="nwsw-resize":!this.isParked&&t.isRight||t.isLeft?e="ew-resize":!this.isParked&&t.isBottom||t.isTop?e="ns-resize":this._isMovable()&&(e="move"),this.el.style.cursor=e},_isMovable(){var t=this.rect.width;return this.isHeader&&(t-=120),this.point.x>0&&this.point.x<t&&this.point.y>0&&this.point.y<50},createModalEvent(t){var e=new CustomEvent(t,{});this.el.dispatchEvent(e)},_createTitle:function(t){this.el.innerHTML='<div class="nav bg-light-gray"><ul class="modal-title-area">\n          <li><a class="minimizeBtn"><i class="far fa-window-minimize"></i></a></li>\n          <li><a class="maximizeBtn"><i class="far fa-window-restore"></i></a></li>\n         \x3c!-- <li><a class="parkBtn"><i class="fas fa-dot-circle "></i></a></li> --\x3e\n          <li><a class="closeBtn"><i class="fas fa-times"></i></a></li>\n      </ul></div>'+this.el.innerHTML,this.headerArea=this.el.querySelector(".modal-title-area")},_createDragArea:function(){this.dragArea=document.createElement("div"),this.dragArea.classList.add("modal-drag-area"),this.el.appendChild(this.dragArea)},resize:function(t,e,i,s){if(!this.isSnap){var o=this.el.offsetHeight-this.el.clientHeight;if(i-=this.el.offsetWidth-this.el.clientWidth,s-=o,0!==t&&!this.isPercentDimesion(this.el.style.width)){var a=this.el.offsetWidth;a+this.rect.left>i&&t<0&&(this.el.style.left=this._setDimension(Math.max(0,this.rect.left+t))),this.el.style.width=this._setDimension(Math.min(a,i))}if(0!==e&&!this.isPercentDimesion(this.el.style.height)){var n=this.el.offsetHeight;n+this.rect.top>s&&e<0&&(this.el.style.top=this._setDimension(Math.max(0,this.rect.top+e))),this.el.style.height=this._setDimension(Math.min(n,s))}this._setRectInfo()}},_setDimension:function(t,e){return e?t+"%":t+"px"},isPercentDimesion:function(t){return!!t&&("string"==typeof t&&"%"===t.substr(-1,1))}},CoCreateModalContainer.prototype={_createGhost:function(t){var e=document.createElement("div");t||(t="modal-ghost"),e.classList.add(t),this.el.appendChild(e),this.ghostEl=e},_initModals:function(){for(var t=document.querySelectorAll("."+this.modalClass),e=0;e<t.length;e++)this.modals.push(new CoCreateModal(t[e],{}));this.selectedModal||this._selectModal(this.modals[this.modals.length-1])},_initEvent:function(){let t=this;this.el.addEventListener("mousemove",function(e){e.preventDefault(),t.selectedModal&&t.selectedModal._onMove(e)}),this.el.addEventListener("mouseup",function(e){t.selectedModal&&t.selectedModal._onUp(e),e.preventDefault()},!0),this.el.addEventListener("touchmove",function(e){t.selectedModal&&t.selectedModal._onMove(e.touches[0]),e.preventDefault()}),this.el.addEventListener("touchend",function(e){t.selectedModal&&t.selectedModal._onUp(e.touches[0])}),this.el.addEventListener("cocreate-selectmodal",function(e){t.selectedModal&&t._selectModal(e.detail.modal)}),this.el.addEventListener("cocreate-modalghost",function(e){t.selectedModal&&t._ghostProcess(e.detail)}),this.el.addEventListener("cocreate-removemodal",function(e){t.selectedModal&&t._removeModal(e.detail.modal)}),this._initResizeEvent()},_initResizeEvent:function(){var t=this,e=this.el.getBoundingClientRect();this.width=e.width,this.height=e.height,new ResizeObserver((e,i)=>{let s=e[0].contentRect;t._resizeProcess(t.width,t.height,s.width,s.height)}).observe(this.el)},_resizeProcess(t,e,i,s){if(this.width=i,this.height=s,t==i&&e==s)return;let o=i-t,a=s-e;for(var n=0;n<this.modals.length;n++)this.modals[n].resize(o,a,i,s)},_createModal:function(t){var e=document.createElement("div");e.classList.add(this.modalClass),e.style.zIndex=this.SELECT_ZINDEX,this.el.appendChild(e);var i=new CoCreateModal(e,t);this.modals.push(i),this._selectModal(e)},_releaseSelect:function(){this.selectedModal&&(this.selectedModal.el.style.zIndex=this.UNSELECT_ZINDEX,this.selectedModal.el.classList.remove("modal_selected"),this.selectedModal=null)},_selectModal:function(t){let e=this._findModalByElement(t);e!=this.selectedModal&&(this._releaseSelect(),this.selectedModal=e,this.selectedModal&&(this.selectedModal.el.style.zIndex=this.SELECT_ZINDEX,this.selectedModal.el.classList.add("modal_selected"),this.ghostEl.style.width=0,this.ghostEl.style.height=0))},_findModalByElement:function(t){if(t instanceof CoCreateModal)return t;for(var e=0;e<this.modals.length;e++)if(this.modals[e].el.isEqualNode(t))return this.modals[e];return null},getModalById:function(t){for(var e=0;e<this.modals.length;e++)if(this.modals[e].id==t)return this.modals[e];return null},_ghostProcess:function(t){this.ghostEl.style.left=t.x+"px",this.ghostEl.style.top=t.y+"px",this.ghostEl.style.width=t.w+"px",this.ghostEl.style.height=t.h+"px","show"===t.type?("none"===this.ghostEl.style.display&&(this.ghostEl.style.display="block"),this.ghostEl.style.opacity=.2):(this.ghostEl.style.opacity=0,"none"!==this.ghostEl.style.display&&(this.ghostEl.style.display="none"))},_removeModal:function(t){for(var e=0;e<this.modals.length;e++)if(this.modals[e]===t){this.el.removeChild(t.el),this.modals.splice(e,1);break}this.modals.length>0?this._selectModal(this.modals[this.modals.length-1]):this.selectedModal=null}},CoCreateWindow.prototype={_checkRoot:function(){try{return window.self===window.top}catch(t){return!1}},_createContainer:function(){if(this.container)return!0;var t=document.getElementById(this.id);return!!t&&(this.container=new CoCreateModalContainer(t),!0)},_initButtons:function(){let t=document.querySelectorAll("[target=modal][href]");this.container;for(var e=this,i=0;i<t.length;i++)t[i].addEventListener("click",function(t){t.preventDefault(),CoCreateLogic.storePassData(this),e.container&&e.openWindow(this)})},_initWndButtons:function(){var t=document.querySelectorAll(".btn-wnd-close"),e=document.querySelector(".btn-wnd-maximize"),i=document.querySelector(".btn-wnd-minimize"),s=this;if(t.length>0)for(var o=0;o<t.length;o++){t[o].addEventListener("click",function(t){t.preventDefault(),s.sendWindowBtnEvent("close")})}e&&e.addEventListener("click",function(t){t.preventDefault(),s.sendWindowBtnEvent("maximize")}),i&&i.addEventListener("click",function(t){t.preventDefault(),s.sendWindowBtnEvent("park")})},sendWindowBtnEvent:function(t){var e={apiKey:config.apiKey,securityKey:config.securityKey,organization_id:config.organization_Id,data:{parentId:this.parentId,pageId:this.pageId,type:t,author:"jin"}};CoCreateSocket.send("windowBtnEvent",e)},_initSocket:function(){var t=this;CoCreateSocket.listen("openWindow",function(e){e.parentId==t.pageId&&t.container._createModal(e)}),CoCreateSocket.listen("windowBtnEvent",function(e){if(e.parentId==t.pageId){var i=e.pageId,s=e.type,o=t.container.getModalById(i);if(o)switch(s){case"close":t.container._removeModal(o);break;case"maximize":o._setMaximize();break;case"park":o.togglePark()}}})},openWindow:function(t){var e={url:t.getAttribute("href"),x:t.getAttribute("data-modal_x"),y:t.getAttribute("data-modal_y"),width:t.getAttribute("data-modal_width"),height:t.getAttribute("data-modal_height"),ajax:t.getAttribute("data-modal_ajax"),color:t.getAttribute("data-modal_color"),header:t.getAttribute("data-modal_header")?t.getAttribute("data-modal_header"):"true"},i=t.getAttribute("data-open_in");i=i||"root",CoCreateStorage.rootPageId=this.rootId;var s=i;switch(i){case"parent":s=this.parentId;break;case"page":s=this.pageId;break;case"root":s=this.rootId;break;default:s=i}CoCreateStorage.parentPageId=s,e.parentId=s,this.isRoot?this._createContainer()&&this.container._createModal(e):CoCreateSocket.send("openWindow",{apiKey:config.apiKey,securityKey:config.securityKey,organization_id:config.organization_Id,data:e})}},CoCreateWindow.generateUUID=function(t){for(var e="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=i.length,o=0;o<t;o++)e+=i.charAt(Math.floor(Math.random()*s));return e+=(new Date).toTimeString().replace(/[\W_]+/g,"").substr(0,6)};var CoCreateStorage={};Object.defineProperty(CoCreateStorage,"rootPageId",{get:function(){return localStorage.getItem("page_rootId")},set:function(t){localStorage.setItem("page_rootId",t)}}),Object.defineProperty(CoCreateStorage,"parentPageId",{get:function(){return localStorage.getItem("page_parentId")},set:function(t){localStorage.setItem("page_parentId",t)}}),Object.defineProperty(CoCreateStorage,"pageId",{get:function(){return localStorage.getItem("page_id")},set:function(t){localStorage.setItem("page_id",t)}});var g_cocreateWindow=new CoCreateWindow;